智能共享单车管理系统
总体系统架构：
核心架构（四层模型）：

1. 感知层（硬件终端）：以 ESP8266 为核心，集成 RFID、GPS、OLED 模块，负责数据采集与本地反馈。

2. 网络层（通信协议）：基于 MQTT 协议的发布/订阅模型，实现低功耗、高实时性的指令传递。

3. 服务层（云端逻辑）：后端处理鉴权请求、订单计费及车辆状态持久化。

4. 应用层（可视化终端）：Web 网站管理（集成地图 ）+ 硬件终端 OLED 显示屏。
1. 硬件终端功能

·身份识别：通过 RC522 模块读取卡片 UID，实现刷卡开关锁校验。

·混合定位：
      - 真实模式：冷启动读取卫星数据获取当前真实位置。
      - 仿真模式：骑行中通过累加偏移量生成虚拟运动轨迹。

·信息窗口（OLED）：实时反馈借还状态、骑行时长、实时计费及账户余额。

·声光提示：蜂鸣器根据业务成功/失败反馈不同音效（滴、滴滴、长鸣）。
2. 后台管理功能

·实时 GIS 监控：在地图上动态渲染车辆（真实+虚拟）的 Marker，不同状态（空闲、骑行、故障）对应不同颜色。

·远程下令：管理员可从网页直接下发 `Lock/Unlock` 指令，实现远程强制干预。

·数据统计：统计订单总量、车辆分布密度、用户余额变动等分析报表。
硬件感知层（传感器层）： 以 ESP8266 为核心采集 GPS 定位、RFID 卡片及传感器原始数据 。
通信网络层（数据处理层）： 基于 MQTT 协议实现数据上报与指令的低功耗、实时传输 。
云端服务层（控制决策层）： 负责后端鉴权、订单计费处理及车辆状态的逻辑决策 。
可视化应用层（用户界面层）： 通过 Web 管理大屏和终端 OLED 屏展示车辆位置及账户状态 。
硬件执行部分： 根据指令驱动 LED 灯亮起、蜂鸣器报警或本地 OLED 界面切换 。

系统工作流程

1. 待机上报：硬件上电，获取 GPS 初始位置，每 10s 发送一次心跳包。

2. 刷卡请求：用户刷卡 -> 终端发送包含卡号的 Auth 消息 -> 后端验证。

3. 解锁反馈：后端验证余额 -> 下发开锁指令 -> 硬件 LED 亮起、OLED 切换界面。

4. 轨迹仿真：骑行状态下，终端自动上报“累加坐标”，地图端同步动态移动。

5. 还车结算：再次刷卡 -> 终端上报还车请求 -> 后端计算费用 -> OLED 显示消费金额并结单。

 主要硬件模块

ESP8266 (NodeMCU)：主控板、Wi-Fi 连接

·NEO-6M(GPS 模块)：获取坐标，定位车辆位置

·RC522 (RFID 读卡器)、RFID 白卡：实现开关锁校验

·SSD1306 OLED 屏：与用户进行信息交互，显示车辆状态（开关锁、是否可用等）、硬件模块Wi-Fi连接状态、消费金额等。

·蜂鸣器、OLED灯：声光提示

